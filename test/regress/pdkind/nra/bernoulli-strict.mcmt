;;
;; Bernoulli inequality
;;
;; 1 + nx \leq (x + 1)^n
;;

(define-state-type state
  (
    (nx Real) ;; x^n
    (rhs Real) ;; (x + 1)^n
    (x Real) ;;
  )
)

(define-states init state
  (and
    (= nx 0) (= rhs 1) (>= x (- 1))
  )
)

(define-transition transition state
  (and
    (= next.nx (+ state.x state.nx))
    (= next.rhs (* state.rhs (+ state.x 1)))
    (= next.x state.x)
  )
)

(define-transition-system T
  state
  init
  transition
)

(query T (< (+ 1 nx) rhs))
